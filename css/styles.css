/* Ergodika Dual-Theme Starter â€” Sep 2025 */
:root{
  --bg:#0B0B12; --fg:#F6F8FF; --muted:#BFC2CF;
  --accent-1:#2EB6FF; --accent-2:#E43CC3; --accent-3:#6D3EF4; --accent-4:#FF7A18;
  --card:#111119; --border:#1A1F2A; --elev:0 10px 30px rgba(0,0,0,.35);
  --radius:16px; --navbar:color-mix(in srgb, var(--bg) 78%, transparent);
}
:root[data-theme="light"]{
  --bg:#F8F7F4; --fg:#16181F; --muted:#5A6070;
  --accent-1:#2EB6FF; --accent-2:#E43CC3; --accent-3:#7B61FF; --accent-4:#FFB80F;
  --card:#FFFFFF; --border:#E1E5ED; --elev:0 10px 24px rgba(16,18,30,.08);
  --navbar:linear-gradient(180deg, #FFFFFF 0%, rgba(255,255,255,.6) 100%);
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);
  font:400 16px/1.6 Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", sans-serif}
a{color:var(--fg);text-decoration:underline dotted 1px}
button{font:inherit;cursor:pointer}
img{max-width:100%;height:auto;display:block}
.container{width:min(1120px,92vw);margin-inline:auto}
.section{padding-block:80px}.section.compact{padding-block:48px}
.navbar{position:sticky;top:0;z-index:50;backdrop-filter:blur(8px);background:var(--navbar);border-bottom:1px solid var(--border)}
.navbar .inner{display:flex;align-items:center;justify-content:space-between;padding:12px 0}
.nav-links{display:flex;gap:16px;align-items:center;flex-wrap:wrap}
.logo{display:flex;align-items:center;gap:10px}.logo img{width:32px;height:32px}.logo strong{letter-spacing:.6px}
.btn{--cap:currentColor;display:inline-flex;align-items:center;gap:.6rem;padding:.8rem 1rem;border-radius:12px;
  border:1px solid color-mix(in srgb, var(--border) 70%, var(--fg) 10%);
  background:linear-gradient(180deg, color-mix(in srgb, var(--bg) 92%, #fff) 0%, color-mix(in srgb, var(--bg) 80%, #000) 100%);
  color:var(--fg);box-shadow:var(--elev);text-decoration:none;letter-spacing:.04em;text-transform:uppercase;font-size:.82rem}
.btn::before{content:"";width:10px;height:10px;border-radius:50%;background:var(--cap);opacity:.55;box-shadow:0 0 0 2px color-mix(in srgb, var(--fg) 12%, transparent)}
.btn:hover{transform:translateY(-1px)}.btn:active{transform:none}
.btn.primary{border-color:color-mix(in srgb, var(--accent-1) 40%, var(--border))}
.btn.primary::after{content:"";width:7px;height:7px;border-radius:50%;margin-left:.45rem;display:inline-block;
  background:radial-gradient(circle at 40% 35%, var(--accent-2) 0%, rgba(0,0,0,.3) 70%);
  filter:drop-shadow(0 0 6px color-mix(in srgb, var(--accent-2) 50%, transparent))}
.btn.ghost{background:transparent}.btn.small{padding:.55rem .8rem;border-radius:10px}
.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:20px;box-shadow:var(--elev)}
.grid{display:grid;gap:20px}.grid.cols-3{grid-template-columns:repeat(3,1fr)}.grid.cols-2{grid-template-columns:repeat(2,1fr)}
@media (max-width:1000px){.grid.cols-3{grid-template-columns:1fr 1fr}}@media (max-width:640px){.grid.cols-3,.grid.cols-2{grid-template-columns:1fr}}
.hero{position:relative;overflow:hidden;border-bottom:1px solid var(--border)}
.hero .wrap{padding:72px 0 84px;display:grid;grid-template-columns:1.2fr 1fr;gap:28px;align-items:center}
@media (max-width:900px){.hero .wrap{grid-template-columns:1fr;padding:56px 0}}
.kicker{color:var(--muted);text-transform:uppercase;letter-spacing:.12em;font-size:.8rem}
h1{font-size:clamp(2rem,4vw,3rem);line-height:1.08;margin:0 0 10px}
.lead{font-size:clamp(1rem,1.4vw,1.2rem);margin:0 0 14px;color:#dfe1ec}:root[data-theme="light"] .lead{color:#3b3f4e}
.dark-bg::before{content:"";position:absolute;inset:-20%;z-index:-2;
  background:radial-gradient(900px 700px at 10% -10%, rgba(46,182,255,.18), transparent 60%),
             radial-gradient(1000px 700px at 110% 0%, rgba(228,60,195,.12), transparent 60%),
             linear-gradient(180deg, #0E0B2B, #121028, #19123a)}
.dark-branches{position:absolute;inset:0;z-index:-1;pointer-events:none;opacity:.32}
.dark-branches img{position:absolute;left:50%;bottom:-6%;transform:translateX(-50%);width:min(1400px,92vw);mix-blend-mode:screen;filter:saturate(120%) contrast(120%);opacity:.9}
.light-bg::before{content:"";position:absolute;inset:-10%;z-index:-2;background:linear-gradient(180deg, #FFFFFF, #F8F7F4)}
.light-shelf{position:absolute;left:0;right:0;bottom:-1px;height:68px;background:url('../assets/wood.svg') center/128px repeat;border-top:1px solid #e5dccb;z-index:-1;opacity:.9}
.media-grid{display:grid;gap:16px;grid-template-columns:repeat(3,1fr)}@media (max-width:900px){.media-grid{grid-template-columns:1fr 1fr}}@media (max-width:600px){.media-grid{grid-template-columns:1fr}}
.media{position:relative;border-radius:14px;overflow:hidden;border:1px solid var(--border);box-shadow:var(--elev)}
.media img{width:100%;height:100%;aspect-ratio:4/3;object-fit:cover;transform:scale(1.02);transition:transform .6s ease}.media:hover img{transform:scale(1.06)}
.player{display:flex;gap:14px;align-items:center}
.player .vis{width:120px;height:32px;border-radius:8px;background:linear-gradient(180deg,#0c0e16,#171a26);overflow:hidden;position:relative;border:1px solid var(--border)}
.player .vis canvas{position:absolute;inset:0}.player .meta{flex:1}.player .ctrls{display:flex;gap:8px}
.map{position:relative;border:1px solid var(--border);border-radius:12px;overflow:hidden;min-height:240px;background:repeating-conic-gradient(from 0deg, #101219 0 10deg, #0e0f15 10deg 20deg)}
:root[data-theme="light"] .map{background:repeating-conic-gradient(from 0deg, #eef2f6 0 10deg, #e8ecf2 10deg 20deg)}
.post-list{display:grid;gap:16px}.post{padding:16px;border:1px solid var(--border);border-radius:12px;background:var(--card)}
.article{display:grid;gap:12px;max-width:70ch}.article h1{font-size:clamp(1.8rem,3.4vw,2.6rem)}.article img{border-radius:12px;border:1px solid var(--border)}
.badge{display:inline-flex;align-items:center;gap:.45rem;padding:.35rem .6rem;border-radius:999px;border:1px solid var(--border);font-size:.78rem;color:var(--muted)}
.alert{padding:12px 14px;border-radius:12px;border:1px solid var(--border);background:color-mix(in srgb, var(--accent-1) 8%, var(--card))}
.footer{border-top:1px solid var(--border);padding:28px 0 60px;color:#b9bcd0}:root[data-theme="light"] .footer{color:#4a5169}
.hide{display:none!important}.stack{display:flex;flex-direction:column;gap:10px}.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
@media (prefers-reduced-motion: reduce){.dark-branches img{transform:none!important}}


/* === Button overrides v3 (stable, 2025-09) === */
.btn{
  --cap: currentColor;
  --dot-default: color-mix(in srgb, var(--fg) 20%, var(--bg));
  --dot-active: var(--accent-2);
  transition: background-color .15s ease, box-shadow .15s ease, color .15s ease;
}
.btn::before{
  content:"";width:10px;height:10px;border-radius:50%;
  background: var(--dot-default);
  opacity:.55;
  box-shadow:0 0 0 2px color-mix(in srgb, var(--fg) 12%, transparent);
}
.btn:hover::before,
.btn:focus-visible::before,
.btn:active::before{
  background: var(--dot-active);
  opacity: 1;
  box-shadow:
    0 0 0 2px color-mix(in srgb, var(--accent-2) 20%, transparent),
    0 0 8px color-mix(in srgb, var(--accent-2) 50%, transparent);
}
.btn:hover{ transform: none !important; }
.btn:active{ transform: none !important; }

