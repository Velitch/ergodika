<!doctype html>
<html lang="it">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Artista — Ergodika</title>
<link rel="stylesheet" href="/assets/css/brand.css">
<link rel="stylesheet" href="/assets/css/artists.css">
<body>
  <main class="wrap">
    <header class="hero">
      <img id="banner" class="banner" alt="">
      <div class="avatar-wrap">
        <img id="avatar" class="avatar" alt="">
      </div>
      <h1 id="name">Artista</h1>
      <p id="bio" class="bio"></p>
      <div class="links" id="links"></div>

      <!-- Toolbar amministrazione (pubblica, richiede token per salvare) -->
      <div class="admin-actions" style="margin:12px 16px 0">
        <button id="edit-profile" class="btn alt">✏️ Modifica profilo</button>
      </div>
    </header>

    <section class="support">
      <h2>Supporta l’artista</h2>
      <div class="btns">
        <button class="btn" data-donate data-amount="100">Dona 1 €</button>
        <button class="btn" data-donate data-amount="300">Dona 3 €</button>
        <button class="btn" data-donate data-amount="500">Dona 5 €</button>
      </div>
      <p class="hint">Le donazioni vanno direttamente all’artista tramite Stripe Connect (20% Ergodika).</p>
    </section>
  </main>

  <!-- MODALE Modifica profilo -->
  <div id="edit-modal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="edit-title">
    <div class="modal-box">
      <h2 id="edit-title" style="margin-top:0">Modifica profilo</h2>
      <form id="edit-form" class="grid" style="gap:12px">
        <div>
          <label for="f-name">Nome</label>
          <input id="f-name" name="name" placeholder="Nome artista">
        </div>
        <div style="grid-column:1/-1">
          <label for="f-bio">Bio</label>
          <textarea id="f-bio" name="bio" rows="4" placeholder="Breve biografia"></textarea>
        </div>
        <div>
          <label for="f-avatar">Avatar URL</label>
          <input id="f-avatar" name="avatarUrl" placeholder="https://...">
        </div>
        <div>
          <label for="f-banner">Banner URL</label>
          <input id="f-banner" name="bannerUrl" placeholder="https://...">
        </div>
        <div>
          <label for="f-website">Website</label>
          <input id="f-website" name="website" placeholder="https://...">
        </div>
        <div>
          <label for="f-spotify">Spotify</label>
          <input id="f-spotify" name="spotify" placeholder="https://open.spotify.com/artist/...">
        </div>
        <div>
          <label for="f-youtube">YouTube</label>
          <input id="f-youtube" name="youtube" placeholder="https://youtube.com/...">
        </div>
        <div>
          <label for="f-instagram">Instagram</label>
          <input id="f-instagram" name="instagram" placeholder="https://instagram.com/...">
        </div>

        <div style="grid-column:1/-1">
          <label for="f-token">Token</label>
          <input id="f-token" name="token" type="password" placeholder="Incolla il token ricevuto alla registrazione">
          <label class="small" style="display:flex;align-items:center;gap:8px;margin-top:6px">
            <input id="f-remember" type="checkbox" checked>
            Ricorda questo token su questo dispositivo
          </label>
        </div>

        <div style="grid-column:1/-1;display:flex;gap:10px;align-items:center;margin-top:8px">
          <button class="btn" type="submit">Salva</button>
          <button type="button" id="edit-cancel" class="btn alt">Annulla</button>
          <span id="edit-msg" class="hint"></span>
        </div>
      </form>
    </div>
  </div>

  <script src="/assets/js/payments.js"></script>
  <script src="/assets/js/artist.js"></script>
</body>
</html>
