<!doctype html>
<html lang="it" data-theme="dark">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ergodika — Home</title>
  <meta name="description" content="Starter responsive con temi dark/light per Ergodika.">
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="css/styles.css" />
</head>

<body>
  <header class="navbar" role="banner">
    <div class="container inner">
      <a class="logo" href="/"><img src="assets/images/favicon-96x96.png" alt="Ergodika" width="48" height="48"><strong>ERGODIKA</strong></a>
      <button class="hamburger" type="button" aria-label="Apri menu" aria-controls="mobile-menu" aria-expanded="false">
        <span class="bars"><span></span></span>
      </button>

      <nav class="nav-links" aria-label="Principale">
        <a href="dark-event.html">Dark</a>
        <a href="https://ergodika.it/pages/contatti.html">Contatti</a>
        <a href="#moduli">Moduli</a>
        <button class="btn small ghost theme-toggle" type="button">Tema: Light</button>
        <a class="btn small primary" href="#contatti">Contatti</a>
      </nav>
    </div>
  </header>

  <main id="contenuto">
    <section class="hero">
      <div class="container wrap">
        <div>
          <div id="pwa-install" data-mode="floating"></div>
          <span class="kicker">Dark — elettronica</span>
          <h1>Vetrina Studio & Artisti</h1>
          <p class="lead">Eventi, uscite, radio, download audio. Interfacce sintetiche, cromie LED.</p>
          <div class="row"><a class="btn primary" href="dark-event.html">Apri mondo Dark</a><a class="btn ghost" href="#moduli">Vedi moduli</a></div>
        </div>
        <div class="card">
          <h3>Player radio</h3>
          <div class="player">
            <div class="vis"><canvas id="viz1"></canvas></div>
            <div class="meta"><strong>Ergodika Stream</strong><br><small class="muted">ascolto continuo</small></div>
            <div class="ctrls"><button class="btn small">Play</button><button class="btn small ghost">Stop</button></div>
          </div>
        </div>
      </div>
    </section>

    <section class="hero light-bg">
      <div class="light-shelf" aria-hidden="true"></div>
      <div class="container wrap">
        <div>
          <span class="kicker">Light — didattica</span>
          <h1>Laboratori, corsi e materiali</h1>
          <p class="lead">Testi lunghi più leggibili, superfici chiare e accenti blu. Ambiente calmo per imparare.</p>
          <div class="row"><a class="btn primary" href="light-corsi.html">Apri mondo Light</a><a class="btn ghost" href="#moduli">Vedi moduli</a></div>
        </div>
        <article class="card article">
          <h2>Manifesto</h2>
          <p>Suono, spazio, comunità. Pratiche di ascolto, cura dell’archivio, ricerca con metodo e condivisione lenta.</p>
        </article>
      </div>
    </section>

    <section id="moduli" class="section">
      <div class="container">
        <span class="kicker">Moduli riutilizzabili</span>
        <div class="grid cols-3">
          <article class="card">
            <h3>Galleria</h3>
            <div class="media-grid">
              <figure class="media"><img src="https://picsum.photos/id/1035/1200/900" alt=""></figure>
              <figure class="media"><img src="https://picsum.photos/id/1041/1200/900" alt=""></figure>
              <figure class="media"><img src="https://picsum.photos/id/1074/1200/900" alt=""></figure>
            </div>
          </article>
          <article class="card">
            <h3>Mappa</h3>
            <div id="map-host" class="map" style="min-height:260px"></div>
          </article>
          <article class="card">
            <h3>Newsletter</h3>
            <form id="newsletter-form" class="stack" novalidate>
              <label for="email">Email</label>
              <input id="email" name="email" type="email" placeholder="tu@esempio.it" required>
              <button class="btn primary">Iscriviti</button>
              <div id="newsletter-status" role="status"></div>
            </form>
          </article>
          <article class="card">
            <h3>Lista post</h3>
            <div class="post-list">
              <div class="post"><strong>Workshop: Sintesi FM</strong><br><small>Data, orario, docente</small></div>
              <div class="post"><strong>Listening Session #01</strong><br><small>Line-up, orario</small></div>
              <div class="post"><strong>Release: AA-001</strong><br><small>Note press</small></div>
            </div>
          </article>
          <article class="card">
            <h3>Callout</h3>
            <div class="alert">Demo benvenute — invia link privati o wetransfer.</div>
          </article>
          <article class="card">
            <h3>Bottoni</h3>
            <div class="row"><a class="btn primary">Primario</a><a class="btn">Default</a><a class="btn ghost">Ghost</a><a class="btn small">Small</a></div>
          </article>

        </div>
        </article>
        <article class="card">
          <h3>Installa l'app</h3>
          <div id="pwa-install" data-mode="card"></div>
        </article>
      </div>
      </div>
    </section>

    <section id="contatti" class="section compact">
      <div class="container grid cols-2">
        <div class="card">
          <h3>Contatti</h3>
          <p><strong>Email</strong> <a href="mailto:hello@ergodika.it">hello@ergodika.it</a><br><strong>Instagram</strong> <a href="#">@ergodika</a></p>
        </div>
        <div class="card">
          <h3>Modulo rapido</h3>
          <form class="stack" onsubmit="event.preventDefault(); window.toast('Messaggio inviato (demo)')">
            <input placeholder="Nome *" required>
            <input placeholder="Oggetto *" required>
            <textarea rows="4" placeholder="Messaggio"></textarea>
            <div class="row"><button class="btn primary">Invia</button><button class="btn ghost" type="reset">Pulisci</button></div>
          </form>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container row" style="justify-content:space-between;">
      <div class="row"><img src="https://ergodika.it/assets/images/favicon-96x96.png" width="24" height="24" alt=""><span>© <span id="year"></span> Ergodika</span></div>
      <div class="row"><a href="dark-event.html">Dark</a><a href="light-corsi.html">Light</a></div>
    </div>
    <script>
      document.getElementById('year').textContent = new Date().getFullYear()
    </script>
  </footer>

  <script type="module">
    import {
      attachMiniViz,
      initMap,
      toast
    } from './js/app.js';
    window.toast = toast;
    attachMiniViz(document.getElementById('viz1'));
    initMap('map-host', {
      lat: 41.9,
      lng: 12.5,
      zoom: 12
    });
  </script>

  <script type="module">
    import {
      mountPWAInstall
    } from './js/pwa-install.js';
    // auto-mount if container exists
    document.querySelectorAll('#pwa-install').forEach(el => mountPWAInstall(el));
  </script>
</body>

</html>
